<div dir="rtl" class="bg-[#f3f7ff] min-h-screen p-6 flex flex-col gap-6">

  <!-- ุนููุงู -->
  <div class="flex justify-between items-center bg-white rounded-2xl border border-blue-100 p-5 shadow-sm">
    <h2 class="text-xl font-bold text-blue-700">ุฑุฒุฑู ุณุงูู ุงูุชุญุงู</h2>
    <span class="text-blue-500 font-medium">ุงูุชุฎุงุจ ุชุงุฑุฎ</span>
  </div>

  <!-- ุชููู ุดูุณ + ูุณุช ุณุงููโูุง -->
  <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">

    <!-- ๐ ุชุงุฑุฎ ุดูุณ -->
    <div class="bg-white rounded-2xl border border-blue-100 p-5 shadow-sm">
      <jalali-datepicker 
        (dateSelected)="onDateSelected($event)">
      </jalali-datepicker>
    </div>

    <!-- ๐ฏ ููุงุด ุณุงููโูุง -->
    <div class="lg:col-span-2 bg-white rounded-2xl border border-blue-100 p-5 shadow-sm">

      <h3 class="text-lg font-semibold text-blue-700 mb-4">
        ุณุงููโูุง ุฑูุฒ ุงูุชุฎุงุจโุดุฏู
      </h3>

      <div *ngIf="daySlots.length === 0" class="text-gray-400">
        ูุทูุงู ฺฉ ุชุงุฑุฎ ุงูุชุฎุงุจ ฺฉูุฏ
      </div>

      <div *ngFor="let slot of daySlots"
        class="mb-4 p-4 bg-[#f9fbff] border border-blue-100 rounded-xl">

        <h4 class="text-blue-600 font-bold mb-3">
          {{ slot.time }}
        </h4>

        <div class="flex flex-wrap gap-3">
          <div *ngFor="let room of slot.rooms"
            class="flex items-center gap-3 px-4 py-2 rounded-xl border text-sm"
            [ngClass]="room.reserved ? 'bg-red-50 border-red-200 text-red-700' : 'bg-blue-50 border-blue-200 text-blue-700'"
          >
            {{ room.name }}

            <button
              *ngIf="!room.reserved"
              class="px-3 py-1 text-xs rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition"
              (click)="selectRoom(slot, room)">
              ุฑุฒุฑู
            </button>
          </div>
        </div>

      </div>

    </div>
  </div>

  <!-- ุฏุงููฺฏ ุฑุฒุฑู -->
  <p-dialog header="ุชุฃุฏ ุฑุฒุฑู" [(visible)]="reserveDialog" [modal]="true" [closable]="false">
    
    <div class="p-3 text-gray-600">
      <p><strong>ุชุงุฑุฎ:</strong> {{ selectedDate }}</p>
      <p><strong>ุณุงุนุช:</strong> {{ selectedSlot?.time }}</p>
      <p><strong>ุณุงูู:</strong> {{ selectedRoom?.name }}</p>
    </div>

    <ng-template pTemplate="footer">
      <button pButton class="p-button-text" label="ูุบู" (click)="reserveDialog=false"></button>
      <button pButton class="p-button" style="background:#2563eb;border:none"
        label="ุชุฃุฏ"
        (click)="confirmReservation()"
      ></button>
    </ng-template>

  </p-dialog>

</div>
